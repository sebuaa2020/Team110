# 语音识别包调用说明

## 前导安装

1.需要科大讯飞网站的注册账号（只需要APPID）

2.需要安装libasound2-dev

本包的依赖项为：roscpp rospy std_msgs

在本地进行编译的时候

假定将本包放在通常的catkin_ws文件夹当中

需要点入CMakeLists.txt当中

将所有的

```
/home/cymario/catkin_ws/src/xfei_asr/lib/libmsc.so
```

改为

```
/home/XXX/catkin_ws/src/team110_speak_package/lib/libmsc.so
```

并且在文件中的.c和.cpp查找appid=58249817 改为自己申请的APPID



其中的XXX是自己电脑的用户名称

调用如下

```
rosrun team110_speak_package tts_subscribe_speak
```

利用麦克风进行录入

## tts_subscribe_speak使用样例

```
$roscore #新开终端
$rosrun team110_speak_package tts_subscribe_speak #新开终端2
$rostopic pub xfwords std_msgs/String "测试ncnynl.com" # 新开终端3 查看终端2输出，播放对应文字
```

## iat_publish_speak使用样例

```
$roscore #新开终端
$rosrun team110_speak_package iat_publish_speak #新开终端2 订阅xfwakeup主题,发布xfspeech和xfwords主题
$rostopic echo/xfspeech #新开终端3 xfspeech主题是录音转成的文字
$rostopic echo/xfwords #新开终端4 xfwords是错误提示文字
$rostopic pub xfwakeup std_msgs/String "ok"#新开终端5 xfwakeup用于唤醒 每发一次即可录音一次
```



